<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame Colorwheel Component</title>
    <meta name="description" content="Aframe-Material">
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
    <script src="../../dist/aframe-colorwheel-component.js"></script>
    <script type="text/javascript">
       AFRAME.registerComponent('color-listener', {
         init: function(){
           const el = this.el;
           document.body.addEventListener('didchangecolor', function(evt){

              //Available return formats from colorwheel
              let style = evt.detail.style
              let rgb = evt.detail.rgb
              let hsv = evt.detail.hsv

              //NOTE: aframe-gradient-sky requires colors in this format:
              el.setAttribute('material', 'topColor', ''+rgb.r+' '+rgb.g+' '+rgb.b+'')
           })
         }
       })
    </script>
  </head>
  <body>
    <a-scene>
      <a-entity laser-controls="hand: right"></a-entity>
      <a-entity laser-controls="hand: left"></a-entity>
      <a-entity>
        <a-camera raycaster look-controls-enabled wasd-controls-enabled>
          <a-entity cursor="rayOrigin: mouse"></a-entity>
        </a-camera>
      </a-entity>
      <a-colorwheel position="-1.578 1 -2.5" rotation="0 21.601 0"></a-colorwheel>
      <a-gradient-sky material="shader: gradient; topColor: 255 0 0; bottomColor: 0 121 255;" color-listener></a-gradient-sky>
    </a-scene>

  </body>
</html>
